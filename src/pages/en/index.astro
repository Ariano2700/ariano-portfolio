---
import Layout from "src/layouts/Layout.astro";
import Hero from "@components/en/sections/Hero.astro";
import AboutMe from "@components/en/sections/AboutMe.astro";
import Hobbies from "@components/en/sections/Hobbies.astro";
import ContactMe from "@components/en/sections/ContactMe.astro";
import ProjectsNew from "@components/en/sections/ProjectsNew.astro";
import Technologies from "@components/en/sections/Technologies.astro";
import Education from "@components/en/sections/Education.astro";
import Services from "@components/en/sections/Services.astro";
---

<Layout title="Portfolio | Developer">
  <section class="element">
    <Hero />
  </section>
  <ProjectsNew />
  <section class="element">
    <AboutMe />
  </section>
  <section class="element">
    <Education />
  </section>
  <section class="element">
    <Technologies />
  </section>
  <section class="element">
    <Hobbies />
  </section>
  <section class="element">
    <Services />
  </section>
  <section class="element">
    <ContactMe />
  </section>
</Layout>
<style is:global>
  .element {
    opacity: 0; /* Comienza invisible */
    transform: translateY(20px); /* Desplazado hacia abajo */
    transition:
      opacity 0.7s ease,
      transform 0.7s ease; /* Transiciones suaves */
  }

  /* Clase que se agrega cuando el elemento está visible */
  .element.visible {
    opacity: 1; /* Hacerse visible */
    transform: translateY(0); /* Volver a la posición original */
  }
</style>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const elements = document.querySelectorAll(".element");

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible"); // Agregar clase cuando está en vista
        } else {
          entry.target.classList.remove("visible"); // Opcional: quitar clase cuando sale de vista
        }
      });
    });

    elements.forEach((element) => {
      observer.observe(element); // Observa cada elemento
    });
  });
</script>
